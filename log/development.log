  [1m[35m (33.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='Prj01'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-07-29 02:36:54.839731', '2025-07-29 02:36:54.839739') RETURNING "key" /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to DeviseCreateUsers (20250729023643)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250729023643') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddJtiToUsers (20250729024749)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" varchar /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250729024749') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (29.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/signup" for 127.0.0.1 at 2025-07-29 10:06:21 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ('test@example.com', '$2a$12$P4hlDPQ5WZ91kGE.GclMD.tON/Ab1x6LYR9PX2j7IqtOFNzmS3Gnm', NULL, NULL, NULL, '2025-07-29 03:06:22.114246', '2025-07-29 03:06:22.114246', '574d0388-ff28-4c26-a51b-f0ab6eee9139') RETURNING "id" /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mTRANSACTION (56.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
Completed 500 Internal Server Error in 332ms (ActiveRecord: 60.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionDispatch::Request::Session::DisabledSessionError (Your application has sessions disabled. To write to the session you must first configure a session store):
  
actionpack (8.0.2) lib/action_dispatch/request/session.rb:263:in `load_for_write!'
actionpack (8.0.2) lib/action_dispatch/request/session.rb:155:in `[]='
warden (1.2.9) lib/warden/session_serializer.rb:27:in `store'
warden (1.2.9) lib/warden/proxy.rb:187:in `set_user'
devise (4.9.4) lib/devise/controllers/sign_in_out.rb:53:in `sign_in'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:106:in `sign_up'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:24:in `create'
actionpack (8.0.2) lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:226:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rendering.rb:193:in `process_action'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:261:in `block in process_action'
activesupport (8.0.2) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in `process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:32:in `block in <class:Constraints>'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:62:in `serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (3.1.16) lib/rack/builder.rb:277:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/signup" for 127.0.0.1 at 2025-07-29 10:08:18 +0700
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test1@example.com' LIMIT 1 /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ('test1@example.com', '$2a$12$P7kAJc5/s1yhwtQzApJDnuszfm.Jz0uMM49ElBmCavybYhCJyrhWK', NULL, NULL, NULL, '2025-07-29 03:08:38.994490', '2025-07-29 03:08:38.994490', 'e6809ee2-a50b-4366-bb6b-0555da968b99') RETURNING "id" /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mTRANSACTION (42.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
Completed 500 Internal Server Error in 278ms (ActiveRecord: 45.0ms (2 queries, 0 cached) | GC: 0.2ms)


  
ActionDispatch::Request::Session::DisabledSessionError (Your application has sessions disabled. To write to the session you must first configure a session store):
  
actionpack (8.0.2) lib/action_dispatch/request/session.rb:263:in `load_for_write!'
actionpack (8.0.2) lib/action_dispatch/request/session.rb:155:in `[]='
warden (1.2.9) lib/warden/session_serializer.rb:27:in `store'
warden (1.2.9) lib/warden/proxy.rb:187:in `set_user'
devise (4.9.4) lib/devise/controllers/sign_in_out.rb:53:in `sign_in'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:106:in `sign_up'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:24:in `create'
actionpack (8.0.2) lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:226:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rendering.rb:193:in `process_action'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:261:in `block in process_action'
activesupport (8.0.2) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in `process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:32:in `block in <class:Constraints>'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:62:in `serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (3.1.16) lib/rack/builder.rb:277:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/signup" for 127.0.0.1 at 2025-07-29 10:08:44 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test1@example.com' LIMIT 1 /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
Completed 500 Internal Server Error in 259ms (ActiveRecord: 3.4ms (1 query, 0 cached) | GC: 1.5ms)


  
NoMethodError (undefined method `error' for #<User id: nil, email: [FILTERED], created_at: nil, updated_at: nil, jti: nil>):
  
app/controllers/users/registrations_controller.rb:17:in `respond_with'
Started POST "/signup" for 127.0.0.1 at 2025-07-29 10:08:53 +0700
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test2@example.com' LIMIT 1 /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ('test2@example.com', '$2a$12$Y48mk2.Ef6JOMmZ1d0eXj.wp5a8ZYUUMzhiLPFcF2N2zoHwvH4o4y', NULL, NULL, NULL, '2025-07-29 03:08:53.744741', '2025-07-29 03:08:53.744741', 'f7e052c4-0c8b-41c1-8855-c6103eaefcf2') RETURNING "id" /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
Completed 500 Internal Server Error in 281ms (ActiveRecord: 41.8ms (2 queries, 0 cached) | GC: 1.7ms)


  
ActionDispatch::Request::Session::DisabledSessionError (Your application has sessions disabled. To write to the session you must first configure a session store):
  
actionpack (8.0.2) lib/action_dispatch/request/session.rb:263:in `load_for_write!'
actionpack (8.0.2) lib/action_dispatch/request/session.rb:155:in `[]='
warden (1.2.9) lib/warden/session_serializer.rb:27:in `store'
warden (1.2.9) lib/warden/proxy.rb:187:in `set_user'
devise (4.9.4) lib/devise/controllers/sign_in_out.rb:53:in `sign_in'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:106:in `sign_up'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:24:in `create'
actionpack (8.0.2) lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:226:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rendering.rb:193:in `process_action'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:261:in `block in process_action'
activesupport (8.0.2) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in `process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:32:in `block in <class:Constraints>'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:62:in `serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (3.1.16) lib/rack/builder.rb:277:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/signup" for 127.0.0.1 at 2025-07-29 10:09:02 +0700
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test3@example.com' LIMIT 1 /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ('test3@example.com', '$2a$12$qtwwRza4lsOYSvpUE7V8WupsYJZO63pVnf6pxTFHEJ9A.KgI0jxBe', NULL, NULL, NULL, '2025-07-29 03:09:02.618135', '2025-07-29 03:09:02.618135', '3ab6e61c-4023-4d9a-87c9-74573270d63b') RETURNING "id" /*action='create',application='Prj01',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='registrations'*/[0m
Completed 500 Internal Server Error in 241ms (ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActionDispatch::Request::Session::DisabledSessionError (Your application has sessions disabled. To write to the session you must first configure a session store):
  
actionpack (8.0.2) lib/action_dispatch/request/session.rb:263:in `load_for_write!'
actionpack (8.0.2) lib/action_dispatch/request/session.rb:155:in `[]='
warden (1.2.9) lib/warden/session_serializer.rb:27:in `store'
warden (1.2.9) lib/warden/proxy.rb:187:in `set_user'
devise (4.9.4) lib/devise/controllers/sign_in_out.rb:53:in `sign_in'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:106:in `sign_up'
devise (4.9.4) app/controllers/devise/registrations_controller.rb:24:in `create'
actionpack (8.0.2) lib/action_controller/metal/basic_implicit_render.rb:8:in `send_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:226:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rendering.rb:193:in `process_action'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:261:in `block in process_action'
activesupport (8.0.2) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in `process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:32:in `block in <class:Constraints>'
actionpack (8.0.2) lib/action_dispatch/routing/mapper.rb:62:in `serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (3.1.16) lib/rack/builder.rb:277:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:09:53 +0700
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:14: syntax error, unexpected local variable or method, expecting '}'
        data: { user: UserSerializer.new(...
        ^~~~
/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input):
  
app/controllers/users/sessions_controller.rb:14: syntax error, unexpected local variable or method, expecting '}'
app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input
Error occurred while parsing request parameters.
Contents:

{
  "user": {
    "email": "test3@example.com",
    "password": "password123",
  }
}
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:10:04 +0700
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:14: syntax error, unexpected local variable or method, expecting '}'
        data: { user: UserSerializer.new(...
        ^~~~
/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input):
  
app/controllers/users/sessions_controller.rb:14: syntax error, unexpected local variable or method, expecting '}'
app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:14:33 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:14: syntax error, unexpected local variable or method, expecting '}'
        data: { user: UserSerializer.new(...
        ^~~~
/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input):
  
app/controllers/users/sessions_controller.rb:14: syntax error, unexpected local variable or method, expecting '}'
app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:15:08 +0700
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input):
  
app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:15:39 +0700
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input):
  
app/controllers/users/sessions_controller.rb:34: syntax error, unexpected end-of-input
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:17:55 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/users/sessions_controller.rb:35: syntax error, unexpected end-of-input):
  
app/controllers/users/sessions_controller.rb:35: syntax error, unexpected end-of-input
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:18:10 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 500 Internal Server Error in 362ms (ActiveRecord: 9.1ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `name' for #<User id: 4, email: [FILTERED], created_at: "2025-07-29 03:09:02.618135000 +0000", updated_at: "2025-07-29 03:09:02.618135000 +0000", jti: "3ab6e61c-4023-4d9a-87c9-74573270d63b">):
  
app/controllers/users/sessions_controller.rb:14:in `respond_with'
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:18:22 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 265ms (Views: 0.3ms | ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.1ms)


Started POST "/login" for 127.0.0.1 at 2025-07-29 10:18:28 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/logout" for 127.0.0.1 at 2025-07-29 10:18:54 +0700
  
ActionController::RoutingError (No route matches [POST] "/logout"):
  
Started POST "/signout" for 127.0.0.1 at 2025-07-29 10:19:08 +0700
  
ActionController::RoutingError (No route matches [POST] "/signout"):
  
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:19:49 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-29 10:20:22 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 238ms (Views: 0.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:21:05 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:22:31 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:24:01 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (46.0ms)[0m  [1m[33mUPDATE "users" SET "jti" = 'dad85f82-39dd-44ea-9a78-140ec75221ba' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:24:08 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "jti" = '1e593b6f-5ee2-4144-b673-81e25271cce1' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:24:10 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "jti" = '97882aad-86f4-43f9-a76b-acaead6184ec' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:24:12 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "jti" = '537b5fdc-d890-4988-8ca4-3d87a845a363' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:24:17 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:24:20 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jti" = 'c2b48ee9-5f00-48dc-90c5-d4be3f11c3ec' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:26:09 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 249ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 10:30:04 +0700
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.4ms (1 query, 0 cached) | GC: 0.3ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jti" = 'fcbd76a2-a608-4210-9f53-7eebbdca9cc2' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started GET "/home" for 127.0.0.1 at 2025-07-29 10:47:43 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:01 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:03 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:06 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:07 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:08 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:09 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:10 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:11 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:12 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:21 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:23 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:25 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:26 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:28 +0700
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:48:42 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by HomeController#index as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "home"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:49:29 +0700
Processing by HomeController#index as */*
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:49:30 +0700
Processing by HomeController#index as */*
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:50:38 +0700
Processing by HomeController#index as */*
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:50:45 +0700
Processing by HomeController#index as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='home'*/[0m
Completed 401 Unauthorized in 16ms (ActiveRecord: 2.0ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:50:48 +0700
Processing by HomeController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='home'*/[0m
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/home" for 127.0.0.1 at 2025-07-29 10:51:35 +0700
  
ActionController::RoutingError (No route matches [POST] "/home"):
  
Started POST "/login" for 127.0.0.1 at 2025-07-29 10:51:41 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@3.example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-29 10:51:50 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 262ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 10:52:07 +0700
Processing by HomeController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='home'*/[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-29 11:01:57 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 305ms (Views: 0.3ms | ActiveRecord: 1.9ms (1 query, 0 cached) | GC: 1.2ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 11:02:16 +0700
Processing by HomeController#index as */*
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-29 11:02:22 +0700
Processing by HomeController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='home'*/[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to CreateActiveStorageTables (20250729041846)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest") /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250729041846') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 11:23:41 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250729042146_create_products.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.2) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to CreateProducts (20250729042146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250729042146') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2025-07-29 11:24:02 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='sessions'*/[0m
  ↳ app/controllers/users/sessions_controller.rb:22:in `respond_to_on_destroy'
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 1.3ms)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "jti" = 'dca78a1d-49d7-4e2d-b327-d688665be67f' WHERE "users"."id" = 4 /*action='destroy',application='Prj01',controller='sessions'*/[0m
Started POST "/login" for 127.0.0.1 at 2025-07-29 11:24:14 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 308ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:24:29 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/products_controller.rb:22: syntax error, unexpected end-of-input):
  
app/controllers/products_controller.rb:22: syntax error, unexpected end-of-input
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:24:40 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>#<ActionDispatch::Http::UploadedFile:0x00007ab87153b688 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-8020-zm9i72.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
AbstractController::ActionNotFound (The new action could not be found for the :authenticate_user!
callback on ProductsController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (8.0.2) lib/active_support/callbacks.rb:384:in `block in make_lambda'
activesupport (8.0.2) lib/active_support/callbacks.rb:177:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:177:in `all?'
activesupport (8.0.2) lib/active_support/callbacks.rb:177:in `call'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in `block in invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in `each'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in `invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:108:in `run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in `process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (3.1.16) lib/rack/builder.rb:277:in `call'
warden-jwt_auth (0.11.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:25:40 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>#<ActionDispatch::Http::UploadedFile:0x00007ab8716a4a60 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-8020-617o81.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">}
Completed 401 Unauthorized in 18ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/products" for 127.0.0.1 at 2025-07-30 08:26:10 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>#<ActionDispatch::Http::UploadedFile:0x00007ab87235abb0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-8020-ykr8id.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-30 08:26:14 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 378ms (Views: 0.2ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.4ms)


Started POST "/products" for 127.0.0.1 at 2025-07-30 08:26:23 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>#<ActionDispatch::Http::UploadedFile:0x00007ab87167ee28 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-8020-uwpls7.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
Completed 400 Bad Request in 65ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty or invalid: product):
  
app/controllers/products_controller.rb:20:in `product_params'
app/controllers/products_controller.rb:5:in `create'
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:27:54 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>#<ActionDispatch::Http::UploadedFile:0x00007ab8722a5738 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-8020-jnt1w.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
[31mUnpermitted parameter: :images. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x00007ab8721fbeb8>, params: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>#<ActionDispatch::Http::UploadedFile:0x00007ab8722a5738 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-8020-jnt1w.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ('Hazelnut Speculoos Bliss', 'Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.', 33.99, '2025-07-30 01:27:55.024846', '2025-07-30 01:27:55.024846') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mTRANSACTION (60.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
Completed 201 Created in 89ms (Views: 0.1ms | ActiveRecord: 63.5ms (2 queries, 0 cached) | GC: 1.3ms)


Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:31:43 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
SyntaxError (/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/products_controller.rb:27: syntax error, unexpected label, expecting `do' or '{' or '('
      render json: {
             ^~~~~
/home/d10-trungpv-pc/Desktop/ruby-com/d4/prj_01/app/controllers/products_controller.rb:37: syntax error, unexpected end-of-input):
  
app/controllers/products_controller.rb:27: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/products_controller.rb:37: syntax error, unexpected end-of-input
Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:32:04 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 3.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:32:24 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
Completed 200 OK in 65ms (Views: 57.0ms | ActiveRecord: 1.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:34:08 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `image_urls' for #<Product id: 1, name: "Hazelnut Speculoos Bliss", description: "Our Hazelnut Speculoos Bliss is a round cake with ...", price: 0.3399e2, created_at: "2025-07-30 01:27:55.024846000 +0000", updated_at: "2025-07-30 01:27:55.024846000 +0000">):
  
app/controllers/products_controller.rb:24:in `show'
Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:36:02 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `image_urls' for #<Product id: 1, name: "Hazelnut Speculoos Bliss", description: "Our Hazelnut Speculoos Bliss is a round cake with ...", price: 0.3399e2, created_at: "2025-07-30 01:27:55.024846000 +0000", updated_at: "2025-07-30 01:27:55.024846000 +0000">):
  
app/controllers/products_controller.rb:24:in `show'
Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:36:30 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.9ms)


  
NoMethodError (undefined method `image_urls' for #<Product id: 1, name: "Hazelnut Speculoos Bliss", description: "Our Hazelnut Speculoos Bliss is a round cake with ...", price: 0.3399e2, created_at: "2025-07-30 01:27:55.024846000 +0000", updated_at: "2025-07-30 01:27:55.024846000 +0000">):
  
app/controllers/products_controller.rb:24:in `show'
Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:37:07 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.8ms)


  
NameError (uninitialized constant ActiveModel::Serializer):
  
app/serializers/product_serializer.rb:1:in `<main>'
app/controllers/products_controller.rb:24:in `show'
Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:38:45 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 1 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
Completed 200 OK in 57ms (Views: 0.3ms | ActiveRecord: 3.3ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:41:20 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 1 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:41:28 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 1 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/products/1" for 127.0.0.1 at 2025-07-30 08:42:04 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 1 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 9.4ms)


Started POST "/products" for 127.0.0.1 at 2025-07-30 08:43:49 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007b3b44bba198 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-9403-1lxyic.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007b3b44bba148 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-9403-ifu1d1.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007b3b44bba0f8 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-9403-1j76yt.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ('Hazelnut Speculoos Bliss', 'Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.', 33.99, '2025-07-30 01:43:49.795851', '2025-07-30 01:43:49.795851') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('4ae8ikn41gjj7mhkqaaorueisnpx', 'hazelnut_speculoos_bliss.jpg', 'image/webp', '{"identified":true}', 'local', 35606, 'kesG24X2SFDm1XRsgyBmdg==', '2025-07-30 01:43:49.801244') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 2, 1, '2025-07-30 01:43:49.803517') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('6tvl2apc88lhbkuiztfz5vke826l', 'hazelnut_speculoos_bliss_2.webp', 'image/webp', '{"identified":true}', 'local', 75484, 'gCuC2wcCBGBBoPIEPsF51Q==', '2025-07-30 01:43:49.807398') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 2, 2, '2025-07-30 01:43:49.809509') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('vya7ybfkkk8fqz2x68vr5yfh8kat', 'hazelnut_speculoos_bliss_3.webp', 'image/webp', '{"identified":true}', 'local', 50794, 'TPv7iRMyoA0uIjvMQgojdg==', '2025-07-30 01:43:49.811714') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 2, 3, '2025-07-30 01:43:49.813679') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:43:49.815431' WHERE "products"."id" = 2 /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: 4ae8ikn41gjj7mhkqaaorueisnpx (checksum: kesG24X2SFDm1XRsgyBmdg==)[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 6tvl2apc88lhbkuiztfz5vke826l (checksum: gCuC2wcCBGBBoPIEPsF51Q==)[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: vya7ybfkkk8fqz2x68vr5yfh8kat (checksum: TPv7iRMyoA0uIjvMQgojdg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 80c9ec42-5fe2-46dd-896c-6d819088e6d1) to Async(default) with arguments: #<GlobalID:0x00007b3b44c878a0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/1>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d2f97086-fd75-403c-a6cf-745e22632ce8) to Async(default) with arguments: #<GlobalID:0x00007b3b44c81ec8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/2>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ad127d17-69fa-460c-b671-3462cfae8188) to Async(default) with arguments: #<GlobalID:0x00007b3b44c9d0b0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/3>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
Completed 500 Internal Server Error in 276ms (ActiveRecord: 5.3ms (10 queries, 0 cached) | GC: 49.0ms)


  
ArgumentError (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
  
app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
app/controllers/products_controller.rb:9:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 2 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8] Performing ActiveStorage::AnalyzeJob (Job ID: d2f97086-fd75-403c-a6cf-745e22632ce8) from Async(default) enqueued at 2025-07-30T01:43:49.953249761Z with arguments: #<GlobalID:0x00007b3b47cebeb0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 1 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1] Performing ActiveStorage::AnalyzeJob (Job ID: 80c9ec42-5fe2-46dd-896c-6d819088e6d1) from Async(default) enqueued at 2025-07-30T01:43:49.942080674Z with arguments: #<GlobalID:0x00007b3b46732380 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 3 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188] Performing ActiveStorage::AnalyzeJob (Job ID: ad127d17-69fa-460c-b671-3462cfae8188) from Async(default) enqueued at 2025-07-30T01:43:49.965876177Z with arguments: #<GlobalID:0x00007b3b46cbc300 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mActiveStorage::Blob Update (2.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 1 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 1 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:43:50.121706' WHERE "products"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80c9ec42-5fe2-46dd-896c-6d819088e6d1] Performed ActiveStorage::AnalyzeJob (Job ID: 80c9ec42-5fe2-46dd-896c-6d819088e6d1) from Async(default) in 58.34ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mTRANSACTION (27.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mActiveStorage::Blob Update (33.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:43:50.137173' WHERE "products"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mTRANSACTION (44.4ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2f97086-fd75-403c-a6cf-745e22632ce8] Performed ActiveStorage::AnalyzeJob (Job ID: d2f97086-fd75-403c-a6cf-745e22632ce8) from Async(default) in 162.18ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mActiveStorage::Blob Update (51.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:43:50.153828' WHERE "products"."id" = 2 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad127d17-69fa-460c-b671-3462cfae8188] Performed ActiveStorage::AnalyzeJob (Job ID: ad127d17-69fa-460c-b671-3462cfae8188) from Async(default) in 82.69ms
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:45:23 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007b3b44c35460 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-9403-g69kz6.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007b3b44c35410 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-9403-y2bmee.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007b3b44c353c0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-9403-cgcu6n.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ('Hazelnut Speculoos Bliss', 'Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.', 33.99, '2025-07-30 01:45:23.775747', '2025-07-30 01:45:23.775747') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 3 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('q7zamjos7p4h0hhbjt9tud17dl8p', 'hazelnut_speculoos_bliss.jpg', 'image/webp', '{"identified":true}', 'local', 35606, 'kesG24X2SFDm1XRsgyBmdg==', '2025-07-30 01:45:23.782775') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 3, 4, '2025-07-30 01:45:23.784766') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('3urgxqboynz32kozpiuoujtytxcm', 'hazelnut_speculoos_bliss_2.webp', 'image/webp', '{"identified":true}', 'local', 75484, 'gCuC2wcCBGBBoPIEPsF51Q==', '2025-07-30 01:45:23.787332') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 3, 5, '2025-07-30 01:45:23.789893') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('52pur0mixhw5ik5fx3igjswe3sc1', 'hazelnut_speculoos_bliss_3.webp', 'image/webp', '{"identified":true}', 'local', 50794, 'TPv7iRMyoA0uIjvMQgojdg==', '2025-07-30 01:45:23.792656') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 3, 6, '2025-07-30 01:45:23.794728') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:45:23.797646' WHERE "products"."id" = 3 /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: q7zamjos7p4h0hhbjt9tud17dl8p (checksum: kesG24X2SFDm1XRsgyBmdg==)[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 3urgxqboynz32kozpiuoujtytxcm (checksum: gCuC2wcCBGBBoPIEPsF51Q==)[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 52pur0mixhw5ik5fx3igjswe3sc1 (checksum: TPv7iRMyoA0uIjvMQgojdg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7f2c5735-0813-431a-a484-65323244822d) to Async(default) with arguments: #<GlobalID:0x00007b3b465cb370 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/4>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6f415159-38c3-4d77-bfb5-20845949014e) to Async(default) with arguments: #<GlobalID:0x00007b3b464f7e80 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/5>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a49a1808-5e7d-4c86-abbf-6967f542c201) to Async(default) with arguments: #<GlobalID:0x00007b3b4650f4e0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/6>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
Completed 500 Internal Server Error in 79ms (ActiveRecord: 5.3ms (10 queries, 0 cached) | GC: 5.8ms)


  
ArgumentError (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
  
app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
app/controllers/products_controller.rb:9:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 4 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d] Performing ActiveStorage::AnalyzeJob (Job ID: 7f2c5735-0813-431a-a484-65323244822d) from Async(default) enqueued at 2025-07-30T01:45:23.803526144Z with arguments: #<GlobalID:0x00007b3b44b62cb8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 5 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e] Performing ActiveStorage::AnalyzeJob (Job ID: 6f415159-38c3-4d77-bfb5-20845949014e) from Async(default) enqueued at 2025-07-30T01:45:23.806159046Z with arguments: #<GlobalID:0x00007b3b47139158 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mActiveStorage::Blob Update (3.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 6 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201] Performing ActiveStorage::AnalyzeJob (Job ID: a49a1808-5e7d-4c86-abbf-6967f542c201) from Async(default) enqueued at 2025-07-30T01:45:23.809238554Z with arguments: #<GlobalID:0x00007b3b4667d7a0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/6>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:45:24.037722' WHERE "products"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2c5735-0813-431a-a484-65323244822d] Performed ActiveStorage::AnalyzeJob (Job ID: 7f2c5735-0813-431a-a484-65323244822d) from Async(default) in 101.82ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mActiveStorage::Blob Update (12.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:45:24.061323' WHERE "products"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mTRANSACTION (66.6ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a49a1808-5e7d-4c86-abbf-6967f542c201] Performed ActiveStorage::AnalyzeJob (Job ID: a49a1808-5e7d-4c86-abbf-6967f542c201) from Async(default) in 84.0ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mActiveStorage::Blob Update (74.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mProduct Update (1.8ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:45:24.084502' WHERE "products"."id" = 3 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f415159-38c3-4d77-bfb5-20845949014e] Performed ActiveStorage::AnalyzeJob (Job ID: 6f415159-38c3-4d77-bfb5-20845949014e) from Async(default) in 114.96ms
Started GET "/products/2" for 127.0.0.1 at 2025-07-30 08:45:42 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 3.0ms)


  
ArgumentError (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
  
app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
app/controllers/products_controller.rb:24:in `show'
Started GET "/products/2" for 127.0.0.1 at 2025-07-30 08:46:56 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.4ms)


  
ArgumentError (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
  
app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
app/controllers/products_controller.rb:24:in `show'
Started GET "/products/2" for 127.0.0.1 at 2025-07-30 08:47:16 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:19:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 2 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 2 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 200 OK in 63ms (Views: 0.2ms | ActiveRecord: 3.1ms (6 queries, 0 cached) | GC: 0.9ms)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsiZGF0YSI6MiwicHVyIjoiYmxvYl9pZCJ9fQ==--17f5e91a4d47d6895580e4c4251ea214ea54c12f/hazelnut_speculoos_bliss_2.webp" for 127.0.0.1 at 2025-07-30 08:47:21 +0700
Processing by ActiveStorage::Blobs::RedirectController#show as WEBP
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MiwicHVyIjoiYmxvYl9pZCJ9fQ==--17f5e91a4d47d6895580e4c4251ea214ea54c12f", "filename"=>"hazelnut_speculoos_bliss_2"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 2 LIMIT 1 /*action='show',application='Prj01',controller='redirect'*/[0m
[36m  Disk Storage (3.2ms) [0m[34mGenerated URL for file at key: 6tvl2apc88lhbkuiztfz5vke826l (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiI2dHZsMmFwYzg4bGhia3VpenRmejV2a2U4MjZsIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaGF6ZWxudXRfc3BlY3Vsb29zX2JsaXNzXzIud2VicFwiOyBmaWxlbmFtZSo9VVRGLTgnJ2hhemVsbnV0X3NwZWN1bG9vc19ibGlzc18yLndlYnAiLCJjb250ZW50X3R5cGUiOiJpbWFnZS93ZWJwIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNS0wNy0zMFQwMTo1MjoyMS4yMDNaIiwicHVyIjoiYmxvYl9rZXkifX0=--1ed48dc918e4bd4baca8e841e5199206c0c56353/hazelnut_speculoos_bliss_2.webp)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiI2dHZsMmFwYzg4bGhia3VpenRmejV2a2U4MjZsIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaGF6ZWxudXRfc3BlY3Vsb29zX2JsaXNzXzIud2VicFwiOyBmaWxlbmFtZSo9VVRGLTgnJ2hhemVsbnV0X3NwZWN1bG9vc19ibGlzc18yLndlYnAiLCJjb250ZW50X3R5cGUiOiJpbWFnZS93ZWJwIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNS0wNy0zMFQwMTo1MjoyMS4yMDNaIiwicHVyIjoiYmxvYl9rZXkifX0=--1ed48dc918e4bd4baca8e841e5199206c0c56353/hazelnut_speculoos_bliss_2.webp
Completed 302 Found in 57ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiI2dHZsMmFwYzg4bGhia3VpenRmejV2a2U4MjZsIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaGF6ZWxudXRfc3BlY3Vsb29zX2JsaXNzXzIud2VicFwiOyBmaWxlbmFtZSo9VVRGLTgnJ2hhemVsbnV0X3NwZWN1bG9vc19ibGlzc18yLndlYnAiLCJjb250ZW50X3R5cGUiOiJpbWFnZS93ZWJwIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNS0wNy0zMFQwMTo1MjoyMS4yMDNaIiwicHVyIjoiYmxvYl9rZXkifX0=--1ed48dc918e4bd4baca8e841e5199206c0c56353/hazelnut_speculoos_bliss_2.webp" for 127.0.0.1 at 2025-07-30 08:47:21 +0700
Processing by ActiveStorage::DiskController#show as WEBP
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"hazelnut_speculoos_bliss_2"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2025-07-30 08:47:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:47:36 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x000076dbedfff060 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-10252-nwg50b.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x000076dbedfff010 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-10252-gz3v7b.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x000076dbedffefc0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-10252-5j13sj.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ('Hazelnut Speculoos Bliss', 'Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.', 33.99, '2025-07-30 01:47:36.423619', '2025-07-30 01:47:36.423619') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('isuziu1ujvdm16rn4xtxx1wac88q', 'hazelnut_speculoos_bliss.jpg', 'image/webp', '{"identified":true}', 'local', 35606, 'kesG24X2SFDm1XRsgyBmdg==', '2025-07-30 01:47:36.430502') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 4, 7, '2025-07-30 01:47:36.433669') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('rqmenyv28vwfr7m4mkgq9wga4gg7', 'hazelnut_speculoos_bliss_2.webp', 'image/webp', '{"identified":true}', 'local', 75484, 'gCuC2wcCBGBBoPIEPsF51Q==', '2025-07-30 01:47:36.436888') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 4, 8, '2025-07-30 01:47:36.439232') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('9o1zp4lbgs1jo1v7dl0uo2k94kfi', 'hazelnut_speculoos_bliss_3.webp', 'image/webp', '{"identified":true}', 'local', 50794, 'TPv7iRMyoA0uIjvMQgojdg==', '2025-07-30 01:47:36.442561') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 4, 9, '2025-07-30 01:47:36.445503') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:47:36.447922' WHERE "products"."id" = 4 /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:6:in `create'
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: isuziu1ujvdm16rn4xtxx1wac88q (checksum: kesG24X2SFDm1XRsgyBmdg==)[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: rqmenyv28vwfr7m4mkgq9wga4gg7 (checksum: gCuC2wcCBGBBoPIEPsF51Q==)[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 9o1zp4lbgs1jo1v7dl0uo2k94kfi (checksum: TPv7iRMyoA0uIjvMQgojdg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d4fb7883-2ea0-4444-b32e-b6c51f8ac968) to Async(default) with arguments: #<GlobalID:0x000076dbeecc6cd0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/7>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1cd987e4-4fc4-4d71-9c26-72e04924429f) to Async(default) with arguments: #<GlobalID:0x000076dbeeb27f00 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/8>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4fe41f6e-3b30-4f2b-b9c6-e350e06e2959) to Async(default) with arguments: #<GlobalID:0x000076dbef746c50 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/9>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 8 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 7 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f] Performing ActiveStorage::AnalyzeJob (Job ID: 1cd987e4-4fc4-4d71-9c26-72e04924429f) from Async(default) enqueued at 2025-07-30T01:47:36.475950391Z with arguments: #<GlobalID:0x000076dbee2a32f8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/8>>
[ActiveJob] ↳ app/controllers/products_controller.rb:6:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968] Performing ActiveStorage::AnalyzeJob (Job ID: d4fb7883-2ea0-4444-b32e-b6c51f8ac968) from Async(default) enqueued at 2025-07-30T01:47:36.464004048Z with arguments: #<GlobalID:0x000076dbee513b50 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 9 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959] Performing ActiveStorage::AnalyzeJob (Job ID: 4fe41f6e-3b30-4f2b-b9c6-e350e06e2959) from Async(default) enqueued at 2025-07-30T01:47:36.482396373Z with arguments: #<GlobalID:0x000076dbee1c8ce8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/9>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mActiveStorage::Blob Update (3.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 8 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 8 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
Completed 201 Created in 101ms (Views: 0.1ms | ActiveRecord: 5.1ms (10 queries, 0 cached) | GC: 9.7ms)


[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:47:36.523438' WHERE "products"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mActiveStorage::Blob Update (11.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 9 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 9 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cd987e4-4fc4-4d71-9c26-72e04924429f] Performed ActiveStorage::AnalyzeJob (Job ID: 1cd987e4-4fc4-4d71-9c26-72e04924429f) from Async(default) in 40.9ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:47:36.537703' WHERE "products"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mTRANSACTION (32.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fe41f6e-3b30-4f2b-b9c6-e350e06e2959] Performed ActiveStorage::AnalyzeJob (Job ID: 4fe41f6e-3b30-4f2b-b9c6-e350e06e2959) from Async(default) in 44.58ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mActiveStorage::Blob Update (35.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 7 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 7 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 01:47:36.551600' WHERE "products"."id" = 4 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d4fb7883-2ea0-4444-b32e-b6c51f8ac968] Performed ActiveStorage::AnalyzeJob (Job ID: d4fb7883-2ea0-4444-b32e-b6c51f8ac968) from Async(default) in 79.37ms
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsiZGF0YSI6NywicHVyIjoiYmxvYl9pZCJ9fQ==--b9d6c9a51799e0a2b4637113d26a175037984b35/hazelnut_speculoos_bliss.jpg" for 127.0.0.1 at 2025-07-30 08:47:42 +0700
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsiZGF0YSI6NywicHVyIjoiYmxvYl9pZCJ9fQ==--b9d6c9a51799e0a2b4637113d26a175037984b35", "filename"=>"hazelnut_speculoos_bliss"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 7 LIMIT 1 /*action='show',application='Prj01',controller='redirect'*/[0m
[36m  Disk Storage (2.8ms) [0m[34mGenerated URL for file at key: isuziu1ujvdm16rn4xtxx1wac88q (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJpc3V6aXUxdWp2ZG0xNnJuNHh0eHgxd2FjODhxIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaGF6ZWxudXRfc3BlY3Vsb29zX2JsaXNzLmpwZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2hhemVsbnV0X3NwZWN1bG9vc19ibGlzcy5qcGciLCJjb250ZW50X3R5cGUiOiJpbWFnZS93ZWJwIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNS0wNy0zMFQwMTo1Mjo0Mi4wNjhaIiwicHVyIjoiYmxvYl9rZXkifX0=--6334874e99afa4701e3511cdcf3939c196c60dc6/hazelnut_speculoos_bliss.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJpc3V6aXUxdWp2ZG0xNnJuNHh0eHgxd2FjODhxIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaGF6ZWxudXRfc3BlY3Vsb29zX2JsaXNzLmpwZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2hhemVsbnV0X3NwZWN1bG9vc19ibGlzcy5qcGciLCJjb250ZW50X3R5cGUiOiJpbWFnZS93ZWJwIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNS0wNy0zMFQwMTo1Mjo0Mi4wNjhaIiwicHVyIjoiYmxvYl9rZXkifX0=--6334874e99afa4701e3511cdcf3939c196c60dc6/hazelnut_speculoos_bliss.jpg
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJpc3V6aXUxdWp2ZG0xNnJuNHh0eHgxd2FjODhxIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaGF6ZWxudXRfc3BlY3Vsb29zX2JsaXNzLmpwZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2hhemVsbnV0X3NwZWN1bG9vc19ibGlzcy5qcGciLCJjb250ZW50X3R5cGUiOiJpbWFnZS93ZWJwIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNS0wNy0zMFQwMTo1Mjo0Mi4wNjhaIiwicHVyIjoiYmxvYl9rZXkifX0=--6334874e99afa4701e3511cdcf3939c196c60dc6/hazelnut_speculoos_bliss.jpg" for 127.0.0.1 at 2025-07-30 08:47:42 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"hazelnut_speculoos_bliss"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2025-07-30 08:47:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddAdminToUsers (20250730015647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT 0 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730015647') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/products" for 127.0.0.1 at 2025-07-30 08:58:07 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007e0838aca878 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-12049-1n7rij.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e0838aca828 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-12049-f4l6iw.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e0838aca7d8 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-12049-tqrey6.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-30 08:58:15 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 307ms (Views: 0.2ms | ActiveRecord: 3.6ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/products" for 127.0.0.1 at 2025-07-30 08:58:23 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007e0838ba15f8 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-12049-iqbccl.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e0838ba15a8 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-12049-p0uwlj.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e0838ba1558 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-12049-i42z76.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
Completed 403 Forbidden in 59ms (Views: 0.1ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 8.9ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (7.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "admin" boolean DEFAULT 0, "role" integer) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "admin" boolean DEFAULT 0) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (7.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddAdminToUsers (20250730015647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "admin" boolean DEFAULT 0) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730015647' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddAdminToUsers (20250730015647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT 0 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730015647') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "admin" boolean DEFAULT 0, "role" integer) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "admin" boolean DEFAULT 0) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddAdminToUsers (20250730015647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "admin" boolean DEFAULT 0) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","admin" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730015647' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" integer) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0 NOT NULL /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" integer DEFAULT 0 NOT NULL) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" integer NOT NULL) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" integer) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar DEFAULT 'customer' /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/products" for 127.0.0.1 at 2025-07-30 09:15:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007e119b47efc0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-14093-mpuxay.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e119b47ef20 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-14093-nc71y4.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e119b47eed0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-14093-2zt3jw.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
Completed 403 Forbidden in 69ms (Views: 0.2ms | ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 8.3ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" varchar DEFAULT 'customer') /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/products" for 127.0.0.1 at 2025-07-30 09:16:47 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007370c63f8540 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-14279-zbk0bp.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007370c63f84f0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-14279-f048v2.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007370c63f84a0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-14279-sqa0sg.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
Completed 403 Forbidden in 70ms (Views: 0.2ms | ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 10.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar, "role" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_jti" ON "ausers" ("jti") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti","role" FROM "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "jti" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_jti" ON "users" ("jti") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti")
                     SELECT "id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","created_at","updated_at","jti" FROM "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730020352' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddRoleToUsers (20250730020352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar DEFAULT 'customer' /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730020352') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/products" for 127.0.0.1 at 2025-07-30 09:25:12 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x0000799e85b08540 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15496-7kwt6g.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x0000799e85b084f0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15496-gp2wdk.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x0000799e85b084a0 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15496-jl82xe.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ('Hazelnut Speculoos Bliss', 'Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.', 33.99, '2025-07-30 02:25:12.204380', '2025-07-30 02:25:12.204380') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 5 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('00hyj5f0dfza9ob3bbe1msdkqxlr', 'hazelnut_speculoos_bliss.jpg', 'image/webp', '{"identified":true}', 'local', 35606, 'kesG24X2SFDm1XRsgyBmdg==', '2025-07-30 02:25:12.211527') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 5, 10, '2025-07-30 02:25:12.214305') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('w600uuvdzewe7ueqt140f6wty9ph', 'hazelnut_speculoos_bliss_2.webp', 'image/webp', '{"identified":true}', 'local', 75484, 'gCuC2wcCBGBBoPIEPsF51Q==', '2025-07-30 02:25:12.217090') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 5, 11, '2025-07-30 02:25:12.219569') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('0634j6wopugk0w453b4j577lwwdr', 'hazelnut_speculoos_bliss_3.webp', 'image/webp', '{"identified":true}', 'local', 50794, 'TPv7iRMyoA0uIjvMQgojdg==', '2025-07-30 02:25:12.222196') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 5, 12, '2025-07-30 02:25:12.224388') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:25:12.226704' WHERE "products"."id" = 5 /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 00hyj5f0dfza9ob3bbe1msdkqxlr (checksum: kesG24X2SFDm1XRsgyBmdg==)[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: w600uuvdzewe7ueqt140f6wty9ph (checksum: gCuC2wcCBGBBoPIEPsF51Q==)[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 0634j6wopugk0w453b4j577lwwdr (checksum: TPv7iRMyoA0uIjvMQgojdg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b115088a-497c-4caf-b22c-6805b3e9450a) to Async(default) with arguments: #<GlobalID:0x0000799e8682e468 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/10>>
[ActiveJob] ↳ app/controllers/products_controller.rb:7:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 80fba40e-de04-491c-b028-7b6e9628c67f) to Async(default) with arguments: #<GlobalID:0x0000799e868250e8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/11>>
[ActiveJob] ↳ app/controllers/products_controller.rb:7:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2e9b4b35-cbd7-4435-b6a9-1b4f2618b345) to Async(default) with arguments: #<GlobalID:0x0000799e8444ea70 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/12>>
[ActiveJob] ↳ app/controllers/products_controller.rb:7:in `create'
Completed 201 Created in 131ms (Views: 0.2ms | ActiveRecord: 5.9ms (10 queries, 0 cached) | GC: 18.9ms)


[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 10 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 11 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f] Performing ActiveStorage::AnalyzeJob (Job ID: 80fba40e-de04-491c-b028-7b6e9628c67f) from Async(default) enqueued at 2025-07-30T02:25:12.245783358Z with arguments: #<GlobalID:0x0000799e85d78eb0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/11>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mActiveStorage::Blob Load (2.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 12 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a] Performing ActiveStorage::AnalyzeJob (Job ID: b115088a-497c-4caf-b22c-6805b3e9450a) from Async(default) enqueued at 2025-07-30T02:25:12.242202502Z with arguments: #<GlobalID:0x0000799e8725ee60 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/10>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345] Performing ActiveStorage::AnalyzeJob (Job ID: 2e9b4b35-cbd7-4435-b6a9-1b4f2618b345) from Async(default) enqueued at 2025-07-30T02:25:12.247666404Z with arguments: #<GlobalID:0x0000799e86271520 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/12>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mActiveStorage::Blob Update (1.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 10 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 10 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:25:12.402430' WHERE "products"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b115088a-497c-4caf-b22c-6805b3e9450a] Performed ActiveStorage::AnalyzeJob (Job ID: b115088a-497c-4caf-b22c-6805b3e9450a) from Async(default) in 59.1ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mActiveStorage::Blob Update (15.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 12 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 12 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:25:12.421053' WHERE "products"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mTRANSACTION (26.9ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mActiveStorage::Blob Update (29.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 11 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2e9b4b35-cbd7-4435-b6a9-1b4f2618b345] Performed ActiveStorage::AnalyzeJob (Job ID: 2e9b4b35-cbd7-4435-b6a9-1b4f2618b345) from Async(default) in 62.9ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 11 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mProduct Update (0.9ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:25:12.435235' WHERE "products"."id" = 5 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [80fba40e-de04-491c-b028-7b6e9628c67f] Performed ActiveStorage::AnalyzeJob (Job ID: 80fba40e-de04-491c-b028-7b6e9628c67f) from Async(default) in 80.84ms
Started POST "/products" for 127.0.0.1 at 2025-07-30 09:28:39 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007e34cdc7e748 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15759-qmwyyy.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e34cdc7e6f8 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15759-9rax19.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e34cdc7e658 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15759-pinjn9.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2025-07-30 09:28:42 +0700
Processing by HomeController#index as */*
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-30 09:28:45 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 259ms (Views: 0.2ms | ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/products" for 127.0.0.1 at 2025-07-30 09:28:53 +0700
Processing by ProductsController#create as */*
  Parameters: {"description"=>"Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.", "name"=>"Hazelnut Speculoos Bliss", "price"=>"33.99", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007e34cde22c20 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15759-sawyeo.jpg>, @content_type="image/jpeg", @original_filename="hazelnut_speculoos_bliss.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e34cde22b80 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15759-7uxtal.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_2.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_2.webp\"\r\nContent-Type: image/webp\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007e34cde22b30 @tempfile=#<Tempfile:/tmp/RackMultipart20250730-15759-l85lyi.webp>, @content_type="image/webp", @original_filename="hazelnut_speculoos_bliss_3.webp", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"hazelnut_speculoos_bliss_3.webp\"\r\nContent-Type: image/webp\r\n">]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='products'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mProduct Create (2.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "created_at", "updated_at") VALUES ('Hazelnut Speculoos Bliss', 'Our Hazelnut Speculoos Bliss is a round cake with a caramel crunch base, topped with delicious speculoos flavour cream and finished off with Biscoff crumbs, biscuits, and hazelnut Ferreros.', 33.99, '2025-07-30 02:28:54.031615', '2025-07-30 02:28:54.031615') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 6 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('liqh5487yjwib1yc5mobkew9v1m5', 'hazelnut_speculoos_bliss.jpg', 'image/webp', '{"identified":true}', 'local', 35606, 'kesG24X2SFDm1XRsgyBmdg==', '2025-07-30 02:28:54.040280') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 6, 13, '2025-07-30 02:28:54.043089') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('w9r7072pea0hkweabirnuus8q9ev', 'hazelnut_speculoos_bliss_2.webp', 'image/webp', '{"identified":true}', 'local', 75484, 'gCuC2wcCBGBBoPIEPsF51Q==', '2025-07-30 02:28:54.046292') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 6, 14, '2025-07-30 02:28:54.049797') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ('7pw2zb721o4sou8tmrjiolpj92db', 'hazelnut_speculoos_bliss_3.webp', 'image/webp', '{"identified":true}', 'local', 50794, 'TPv7iRMyoA0uIjvMQgojdg==', '2025-07-30 02:28:54.056207') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ('images', 'Product', 6, 15, '2025-07-30 02:28:54.058360') RETURNING "id" /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:28:54.060048' WHERE "products"."id" = 6 /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `create'
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: liqh5487yjwib1yc5mobkew9v1m5 (checksum: kesG24X2SFDm1XRsgyBmdg==)[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: w9r7072pea0hkweabirnuus8q9ev (checksum: gCuC2wcCBGBBoPIEPsF51Q==)[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 7pw2zb721o4sou8tmrjiolpj92db (checksum: TPv7iRMyoA0uIjvMQgojdg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 39da10c8-b640-4835-be32-793e1af3beb7) to Async(default) with arguments: #<GlobalID:0x00007e34cc58bab8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/13>>
[ActiveJob] ↳ app/controllers/products_controller.rb:7:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5df8bee9-baa9-4add-9469-ee844b48f232) to Async(default) with arguments: #<GlobalID:0x00007e34cc5819c8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/14>>
[ActiveJob] ↳ app/controllers/products_controller.rb:7:in `create'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1d206770-f3fb-4ccc-a7d1-e3b76d77bb89) to Async(default) with arguments: #<GlobalID:0x00007e34cc54b8f0 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/15>>
[ActiveJob] ↳ app/controllers/products_controller.rb:7:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 13 LIMIT 1 /*application='Prj01'*/[0m
Completed 201 Created in 116ms (Views: 0.1ms | ActiveRecord: 5.0ms (10 queries, 0 cached) | GC: 12.2ms)


[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7] Performing ActiveStorage::AnalyzeJob (Job ID: 39da10c8-b640-4835-be32-793e1af3beb7) from Async(default) enqueued at 2025-07-30T02:28:54.076341346Z with arguments: #<GlobalID:0x00007e34cc4bf918 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/13>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mActiveStorage::Blob Update (2.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 13 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 13 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 14 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232] Performing ActiveStorage::AnalyzeJob (Job ID: 5df8bee9-baa9-4add-9469-ee844b48f232) from Async(default) enqueued at 2025-07-30T02:28:54.079094799Z with arguments: #<GlobalID:0x00007e34d3cee060 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 15 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:28:54.191640' WHERE "products"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89] Performing ActiveStorage::AnalyzeJob (Job ID: 1d206770-f3fb-4ccc-a7d1-e3b76d77bb89) from Async(default) enqueued at 2025-07-30T02:28:54.084920360Z with arguments: #<GlobalID:0x00007e34ce480630 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/15>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mActiveStorage::Blob Update (11.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 14 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 14 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:28:54.213647' WHERE "products"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mActiveStorage::Blob Update (1.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = '{"identified":true,"analyzed":true}' WHERE "active_storage_blobs"."id" = 15 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [39da10c8-b640-4835-be32-793e1af3beb7] Performed ActiveStorage::AnalyzeJob (Job ID: 39da10c8-b640-4835-be32-793e1af3beb7) from Async(default) in 127.62ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232]   [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 15 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5df8bee9-baa9-4add-9469-ee844b48f232] Performed ActiveStorage::AnalyzeJob (Job ID: 5df8bee9-baa9-4add-9469-ee844b48f232) from Async(default) in 46.43ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = '2025-07-30 02:28:54.232460' WHERE "products"."id" = 6 /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3AAnalyzeJob'*/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1d206770-f3fb-4ccc-a7d1-e3b76d77bb89] Performed ActiveStorage::AnalyzeJob (Job ID: 1d206770-f3fb-4ccc-a7d1-e3b76d77bb89) from Async(default) in 43.01ms
Started DELETE "/products/6" for 127.0.0.1 at 2025-07-30 09:29:22 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='Prj01',controller='products'*/[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 6 LIMIT 1 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:35:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 6 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = 13 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = 14 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = 15 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = 6 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 13 LIMIT 1 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e00c4598-77ca-438a-8e55-8abf799256dc) to Async(default) with arguments: #<GlobalID:0x00007e34cc568950 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/13>>
[ActiveJob] ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 14 LIMIT 1 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 4a6a4b8e-473c-4bde-ab27-30ee7c71d293) to Async(default) with arguments: #<GlobalID:0x00007e34ce764270 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 13 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] ↳ app/controllers/products_controller.rb:38:in `destroy'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 15 LIMIT 1 /*action='destroy',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:38:in `destroy'
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc] Performing ActiveStorage::PurgeJob (Job ID: e00c4598-77ca-438a-8e55-8abf799256dc) from Async(default) enqueued at 2025-07-30T02:29:22.755161129Z with arguments: #<GlobalID:0x00007e34cf350f98 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/13>>
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7f0c7a8b-b3c4-4da6-b056-4db2b92ce572) to Async(default) with arguments: #<GlobalID:0x00007e34cddd1988 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/15>>
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] ↳ app/controllers/products_controller.rb:38:in `destroy'
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 2.3ms (10 queries, 0 cached) | GC: 3.2ms)


[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mActiveStorage::Attachment Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 13 LIMIT 1 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mActiveStorage::VariantRecord Load (2.9ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = 13 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 14 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293] Performing ActiveStorage::PurgeJob (Job ID: 4a6a4b8e-473c-4bde-ab27-30ee7c71d293) from Async(default) enqueued at 2025-07-30T02:29:22.764957780Z with arguments: #<GlobalID:0x00007e34cdc507f8 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 13 AND "active_storage_attachments"."record_type" = 'ActiveStorage::Blob' AND "active_storage_attachments"."name" = 'preview_image' LIMIT 1 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 13 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 15 LIMIT 1 /*application='Prj01'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mActiveStorage::Attachment Exists? (15.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 14 LIMIT 1 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = 14 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572] Performing ActiveStorage::PurgeJob (Job ID: 7f0c7a8b-b3c4-4da6-b056-4db2b92ce572) from Async(default) enqueued at 2025-07-30T02:29:22.771244940Z with arguments: #<GlobalID:0x00007e34cd9bae80 @uri=#<URI::GID gid://prj01/ActiveStorage::Blob/15>>
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc] [36m  Disk Storage (14.2ms) [0m[31mDeleted file from key: liqh5487yjwib1yc5mobkew9v1m5[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/liqh5487yjwib1yc5mobkew9v1m5/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [e00c4598-77ca-438a-8e55-8abf799256dc] Performed ActiveStorage::PurgeJob (Job ID: e00c4598-77ca-438a-8e55-8abf799256dc) from Async(default) in 84.25ms
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 14 AND "active_storage_attachments"."record_type" = 'ActiveStorage::Blob' AND "active_storage_attachments"."name" = 'preview_image' LIMIT 1 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 14 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mActiveStorage::Attachment Exists? (15.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = 15 LIMIT 1 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293] [36m  Disk Storage (1.5ms) [0m[31mDeleted file from key: w9r7072pea0hkweabirnuus8q9ev[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = 15 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/w9r7072pea0hkweabirnuus8q9ev/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 15 AND "active_storage_attachments"."record_type" = 'ActiveStorage::Blob' AND "active_storage_attachments"."name" = 'preview_image' LIMIT 1 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [4a6a4b8e-473c-4bde-ab27-30ee7c71d293] Performed ActiveStorage::PurgeJob (Job ID: 4a6a4b8e-473c-4bde-ab27-30ee7c71d293) from Async(default) in 65.6ms
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 15 /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01',job='ActiveStorage%3A%3APurgeJob'*/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 7pw2zb721o4sou8tmrjiolpj92db[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/7pw2zb721o4sou8tmrjiolpj92db/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7f0c7a8b-b3c4-4da6-b056-4db2b92ce572] Performed ActiveStorage::PurgeJob (Job ID: 7f0c7a8b-b3c4-4da6-b056-4db2b92ce572) from Async(default) in 52.52ms
Started GET "/products/6" for 127.0.0.1 at 2025-07-30 09:29:29 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 6 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:20:in `show'
Completed 404 Not Found in 4ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 2.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=6):
  
app/controllers/products_controller.rb:20:in `show'
Started GET "/products/5" for 127.0.0.1 at 2025-07-30 09:29:53 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 5 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:20:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=5):
  
app/controllers/products_controller.rb:20:in `show'
Started GET "/products/4" for 127.0.0.1 at 2025-07-30 09:30:04 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:20:in `show'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 7 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 8 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 9 LIMIT 1 /*action='show',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2025-07-30 09:33:50 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by ProductsController#index as */*
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `index'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:12:in `index'
Completed 200 OK in 23ms (Views: 7.1ms | ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 0.8ms)


Started GET "/products" for 127.0.0.1 at 2025-07-30 09:35:55 +0700
Processing by ProductsController#index as */*
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `index'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:12:in `index'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 7 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 8 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 9 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 3.0ms (7 queries, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `serializable_products' for #<ProductsController:0x0000000000fe38>):
  
app/controllers/products_controller.rb:15:in `index'
Started GET "/products" for 127.0.0.1 at 2025-07-30 09:36:08 +0700
Processing by ProductsController#index as */*
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `index'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:12:in `index'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 7 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 8 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 9 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 2.4ms (7 queries, 0 cached) | GC: 0.3ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to CreateOrders (20250730023835)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id") /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730023835') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/orders" for 127.0.0.1 at 2025-07-30 09:47:01 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250730024126_create_order_items.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.2) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
  "order_items": [
    { "product_id": 4, "quantity": 2 },
  ]
}
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to CreateOrderItems (20250730024126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer, "price" decimal, "note" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_order_id" ON "order_items" ("order_id") /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_product_id" ON "order_items" ("product_id") /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730024126') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Started POST "/orders" for 127.0.0.1 at 2025-07-30 09:47:16 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Error occurred while parsing request parameters.
Contents:

{
  "order_items": [
    { "product_id": 4, "quantity": 2 },
  ]
}
Processing by OrdersController#create as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
Completed 400 Bad Request in 38ms (ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.7ms)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters)
Caused by: JSON::ParserError (unexpected character: ']' at line 3 column 3)

Information for: ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/orders_controller.rb:8:in `create'

Information for cause: JSON::ParserError (unexpected character: ']' at line 3 column 3):
  
app/controllers/orders_controller.rb:8:in `create'
Started POST "/orders" for 127.0.0.1 at 2025-07-30 09:47:38 +0700
Processing by OrdersController#create as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (2.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total_price", "status", "created_at", "updated_at") VALUES (4, 67.98, 'pending', '2025-07-30 02:47:38.730560', '2025-07-30 02:47:38.730560') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "price", "note", "created_at", "updated_at") VALUES (1, 4, 2, 33.99, NULL, '2025-07-30 02:47:38.735585', '2025-07-30 02:47:38.735585') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 201 Created in 63ms (Views: 0.4ms | ActiveRecord: 3.8ms (4 queries, 0 cached) | GC: 1.5ms)


Started POST "/orders" for 127.0.0.1 at 2025-07-30 09:48:55 +0700
Processing by OrdersController#create as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (1.5ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total_price", "status", "created_at", "updated_at") VALUES (4, 67.98, 'pending', '2025-07-30 02:48:55.395886', '2025-07-30 02:48:55.395886') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "price", "note", "created_at", "updated_at") VALUES (2, 4, 2, 33.99, 'His name is Tony, he is 5 years old', '2025-07-30 02:48:55.399259', '2025-07-30 02:48:55.399259') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2025-07-30 09:52:51 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test2@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 244ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/orders" for 127.0.0.1 at 2025-07-30 09:53:01 +0700
Processing by OrdersController#create as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (2.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total_price", "status", "created_at", "updated_at") VALUES (3, 67.98, 'pending', '2025-07-30 02:53:01.360999', '2025-07-30 02:53:01.360999') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "price", "note", "created_at", "updated_at") VALUES (3, 4, 2, 33.99, 'His name is Tony, he is 5 years old', '2025-07-30 02:53:01.366506', '2025-07-30 02:53:01.366506') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 201 Created in 18ms (Views: 0.2ms | ActiveRecord: 2.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/orders" for 127.0.0.1 at 2025-07-30 09:59:20 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.8ms (1 query, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `user_id' for #<OrderPolicy::Scope:0x0000783b8a0bae08 @user=#<User id: 3, email: [FILTERED], created_at: "2025-07-29 03:08:53.744741000 +0000", updated_at: "2025-07-29 03:08:53.744741000 +0000", jti: "f7e052c4-0c8b-41c1-8855-c6103eaefcf2", role: "customer">, @scope=Order(id: integer, user_id: integer, total_price: decimal, status: string, created_at: datetime, updated_at: datetime)>):
  
app/policies/order_policy.rb:13:in `resolve'
app/controllers/orders_controller.rb:33:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 09:59:33 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms (1 query, 0 cached) | GC: 1.0ms)


  
NameError (undefined local variable or method `id' for #<OrderPolicy::Scope:0x0000783b89590988 @user=#<User id: 3, email: [FILTERED], created_at: "2025-07-29 03:08:53.744741000 +0000", updated_at: "2025-07-29 03:08:53.744741000 +0000", jti: "f7e052c4-0c8b-41c1-8855-c6103eaefcf2", role: "customer">, @scope=Order(id: integer, user_id: integer, total_price: decimal, status: string, created_at: datetime, updated_at: datetime)>):
  
app/policies/order_policy.rb:13:in `resolve'
app/controllers/orders_controller.rb:33:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 09:59:42 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.3ms (1 query, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `user_id' for #<OrderPolicy::Scope:0x0000783b8801c110 @user=#<User id: 3, email: [FILTERED], created_at: "2025-07-29 03:08:53.744741000 +0000", updated_at: "2025-07-29 03:08:53.744741000 +0000", jti: "f7e052c4-0c8b-41c1-8855-c6103eaefcf2", role: "customer">, @scope=Order(id: integer, user_id: integer, total_price: decimal, status: string, created_at: datetime, updated_at: datetime)>):
  
app/policies/order_policy.rb:13:in `resolve'
app/controllers/orders_controller.rb:33:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:00:21 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.3ms (1 query, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `id' for #<OrderPolicy::Scope:0x0000783b73bad6b0 @user=#<User id: 3, email: [FILTERED], created_at: "2025-07-29 03:08:53.744741000 +0000", updated_at: "2025-07-29 03:08:53.744741000 +0000", jti: "f7e052c4-0c8b-41c1-8855-c6103eaefcf2", role: "customer">, @scope=Order(id: integer, user_id: integer, total_price: decimal, status: string, created_at: datetime, updated_at: datetime)>):
  
app/policies/order_policy.rb:13:in `resolve'
app/controllers/orders_controller.rb:33:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:00:44 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.4ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `belong_to' for OrderSerializer:Class):
  
app/serializers/order_serializer.rb:6:in `<class:OrderSerializer>'
app/serializers/order_serializer.rb:1:in `<main>'
app/controllers/orders_controller.rb:37:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:06:29 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 1.6ms (3 queries, 0 cached) | GC: 5.0ms)


Started GET "/orders/show/3" for 127.0.0.1 at 2025-07-30 10:09:26 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
ActionController::RoutingError (No route matches [GET] "/orders/show/3"):
  
Started GET "/orders/3" for 127.0.0.1 at 2025-07-30 10:09:33 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"3", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 2.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/orders/2" for 127.0.0.1 at 2025-07-30 10:09:52 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"2", "order"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 2 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
Completed 403 Forbidden in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/orders/1" for 127.0.0.1 at 2025-07-30 10:09:57 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"1", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
Completed 403 Forbidden in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/orders/3" for 127.0.0.1 at 2025-07-30 10:10:00 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"3", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2025-07-30 10:10:09 +0700
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test3@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Prj01',controller='sessions'*/[0m
Completed 200 OK in 246ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/orders/3" for 127.0.0.1 at 2025-07-30 10:10:17 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"3", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 3 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/orders/1" for 127.0.0.1 at 2025-07-30 10:10:21 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"1", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/orders/1" for 127.0.0.1 at 2025-07-30 10:13:10 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"1", "order"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 3.0ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/products" for 127.0.0.1 at 2025-07-30 10:13:18 +0700
Processing by ProductsController#index as */*
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:7:in `index'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/controllers/products_controller.rb:13:in `index'
  [1m[36mActiveStorage::Attachment Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:7:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = 4 AND "active_storage_attachments"."record_type" = 'Product' AND "active_storage_attachments"."name" = 'images' /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 7 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 8 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = 9 LIMIT 1 /*action='index',application='Prj01',controller='products'*/[0m
  ↳ app/serializers/product_serializer.rb:8:in `block (2 levels) in <class:ProductSerializer>'
Completed 200 OK in 52ms (Views: 0.2ms | ActiveRecord: 1.6ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:13:24 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.5ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:14:40 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 0.5ms)


  
NameError (undefined local variable or method `order' for #<OrdersController:0x000000000109c8>):
  
app/controllers/orders_controller.rb:37:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:14:50 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 3.5ms (11 queries, 2 cached) | GC: 0.9ms)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/orders_controller.rb:37:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:14:59 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 2.9ms (11 queries, 2 cached) | GC: 0.2ms)


Started GET "/orders/1" for 127.0.0.1 at 2025-07-30 10:16:31 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"1", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mOrderItem Pluck (0.1ms)[0m  [1m[34mSELECT "order_items"."id" FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:47:in `show'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 2.1ms (5 queries, 1 cached) | GC: 6.0ms)


Started GET "/orders/1" for 127.0.0.1 at 2025-07-30 10:21:12 +0700
Processing by OrdersController#show as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "id"=>"1", "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 1 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:42:in `show'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='show',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 2.5ms (5 queries, 1 cached) | GC: 1.0ms)


Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:21:22 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:37:in `index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.0ms (11 queries, 4 cached) | GC: 0.0ms)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/orders_controller.rb:37:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:22:35 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.3ms (1 query, 0 cached) | GC: 0.1ms)


  
NameError (uninitialized constant OrdersController::Ordererializer):
  
app/controllers/orders_controller.rb:34:in `index'
Started GET "/orders" for 127.0.0.1 at 2025-07-30 10:22:42 +0700
Processing by OrdersController#index as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:34:in `index'
  [1m[36mCACHE User Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 2 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:7:in `block in <class:OrderSerializer>'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 3 /*action='index',application='Prj01',controller='orders'*/[0m
  ↳ app/serializers/order_serializer.rb:13:in `map'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1[0m
  ↳ app/serializers/order_serializer.rb:19:in `block (2 levels) in <class:OrderSerializer>'
Completed 200 OK in 55ms (Views: 0.5ms | ActiveRecord: 6.0ms (11 queries, 4 cached) | GC: 5.2ms)


Started POST "/orders" for 127.0.0.1 at 2025-07-30 10:29:35 +0700
  
NoMethodError (undefined method `after_initialize' for OrdersController:Class):
  
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started POST "/orders" for 127.0.0.1 at 2025-07-30 10:30:38 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  
NoMethodError (undefined method `after_initialize' for OrdersController:Class):
  
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started POST "/orders" for 127.0.0.1 at 2025-07-30 10:31:25 +0700
  
NoMethodError (undefined method `after_create' for OrdersController:Class):
  
app/controllers/orders_controller.rb:3:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started POST "/orders" for 127.0.0.1 at 2025-07-30 10:32:29 +0700
Processing by OrdersController#create as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.0ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `status' for #<User id: 4, email: [FILTERED], created_at: "2025-07-29 03:09:02.618135000 +0000", updated_at: "2025-07-29 03:09:02.618135000 +0000", jti: "dca78a1d-49d7-4e2d-b327-d688665be67f", role: "admin">):
  
app/models/user.rb:18:in `set_defaults'
Started POST "/orders" for 127.0.0.1 at 2025-07-30 10:32:57 +0700
Processing by OrdersController#create as */*
  Parameters: {"order_items"=>[{"product_id"=>4, "quantity"=>2, "note"=>"His name is Tony, he is 5 years old"}], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = 4 LIMIT 1 /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:9:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrder Create (1.5ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total_price", "status", "created_at", "updated_at") VALUES (4, 67.98, 'pending', '2025-07-30 03:32:57.878715', '2025-07-30 03:32:57.878715') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "price", "note", "created_at", "updated_at") VALUES (4, 4, 2, 33.99, 'His name is Tony, he is 5 years old', '2025-07-30 03:32:57.882009', '2025-07-30 03:32:57.882009') RETURNING "id" /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Prj01',controller='orders'*/[0m
  ↳ app/controllers/orders_controller.rb:25:in `create'
Completed 201 Created in 55ms (Views: 0.4ms | ActiveRecord: 4.1ms (4 queries, 0 cached) | GC: 0.1ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddPayments (20250730033536)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730033536') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddPayments (20250730033536)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","total_price","status","created_at","updated_at")
                     SELECT "id","user_id","total_price","status","created_at","updated_at" FROM "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","total_price","status","created_at","updated_at")
                     SELECT "id","user_id","total_price","status","created_at","updated_at" FROM "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","total_price","status","created_at","updated_at")
                     SELECT "id","user_id","total_price","status","created_at","updated_at" FROM "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","total_price","status","created_at","updated_at")
                     SELECT "id","user_id","total_price","status","created_at","updated_at" FROM "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730033536' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddPayments (20250730033536)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "paid" boolean DEFAULT 0 /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "method" varchar /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730033536') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddPayments (20250730033536)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "paid" boolean DEFAULT 0, "method" varchar) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","total_price","status","created_at","updated_at","paid","method")
                     SELECT "id","user_id","total_price","status","created_at","updated_at","paid","method" FROM "orders" /*application='Prj01'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "paid" boolean DEFAULT 0, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","total_price","status","created_at","updated_at","paid")
                     SELECT "id","user_id","total_price","status","created_at","updated_at","paid" FROM "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Prj01'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "paid" boolean DEFAULT 0) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","total_price","status","created_at","updated_at","paid")
                     SELECT "id","user_id","total_price","status","created_at","updated_at","paid" FROM "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "total_price" decimal, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id") /*application='Prj01'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","total_price","status","created_at","updated_at")
                     SELECT "id","user_id","total_price","status","created_at","updated_at" FROM "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders" /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Prj01'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250730033536' /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
Migrating to AddPayments (20250730033536)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Prj01'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "paid" boolean DEFAULT 0 /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250730033536') RETURNING "version" /*application='Prj01'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Prj01'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Prj01'*/[0m
